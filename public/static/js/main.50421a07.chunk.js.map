{"version":3,"sources":["components/Header.js","utils/Api.js","components/PopupWithForm.js","context/CurrentUserContext.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/Card.js","components/Spinner/Spinner.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","alt","src","logo","api","url","headers","this","fetch","then","_handleResponse","response","ok","json","Promise","reject","status","name","about","method","body","JSON","stringify","link","avatar","cardId","isLiked","authorization","PopupWithForm","isOpen","title","children","rest","buttonClassName","disabled","noValidate","onSubmit","onClick","onClose","type","isLoading","id","buttonTextIsLoading","buttonText","CurrentUserContext","React","createContext","validators","required","value","minLength","length","maxLength","containNumbers","test","description","EditProfilePopup","props","currentUser","useContext","useState","setName","setDescription","errors","setErrors","useEffect","handleChangeName","useCallback","e","target","handleChangeDescription","handleSubmit","preventDefault","onUpdateUser","nameValidationResult","Object","keys","map","errorKey","errorResult","reduce","acc","el","descriptionValidationResult","isNameValid","values","some","Boolean","isDescriptionValid","isSubmitDisabled","placeholder","onChange","EditAvatarPopup","linkRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","setLink","handleChangePlace","handleChangeLink","onAddPlace","DeletePlacePopup","onDeleteCard","deletingCard","Card","isOwn","ownerId","_id","cardDeleteButtonClassName","like","i","cardLikeButtonClassName","cardLikesNumberClassName","likes","onCardClick","onCardLike","onCardDelete","Spinner","Main","cards","onEditAvatar","onEditProfile","isStartLoading","card","Footer","ImagePopup","App","setCurrentUser","setCards","setIsLoading","setStartIsLoading","setDeletingCard","all","getUserInfo","getInitialCards","profile","items","item","key","owner","catch","err","console","log","finally","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isPlacePopupOpen","setIsPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCardFormat","newCards","handleUpdateCard","c","newProfile","setUserInfo","avatarLink","setAvatar","newPlace","insertCard","withoutDeleted","filter","с","deleteCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"iRAGaA,EAAS,WACpB,OACE,4BAAQC,UAAU,UAChB,yBAAKA,UAAU,eAAeC,IAAI,0DAAuBC,IAAKC,MAC9D,yBAAKH,UAAU,mB,gBCyENI,EARH,I,WAvEV,cAAoC,IAAtBC,EAAqB,EAArBA,IAAqB,IAAhBC,eAAgB,MAAN,GAAM,sBACjCC,KAAKF,IAAMA,EACXE,KAAKD,QAAUA,E,8DAIf,OAAOE,MAAM,GAAD,OAAID,KAAKF,IAAT,UAAsB,CAChCC,QAASC,KAAKD,UACbG,KAAKF,KAAKG,mB,sCAGCC,GACd,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,W,oCAI1C,OAAOR,MAAM,GAAD,OAAID,KAAKF,IAAT,aAAyB,CACnCC,QAASC,KAAKD,UACbG,KAAKF,KAAKG,mB,kCAGHO,EAAMC,GAChB,OAAOV,MAAM,GAAD,OAAID,KAAKF,IAAT,aAAyB,CACnCc,OAAQ,QACRb,QAASC,KAAKD,QACdc,KAAMC,KAAKC,UAAU,CACnBL,KAAMA,EACNC,MAAOA,MAERT,KAAKF,KAAKG,mB,gCAGLa,GACR,OAAOf,MAAM,GAAD,OAAID,KAAKF,IAAT,oBAAgC,CAC1Cc,OAAQ,QACRb,QAASC,KAAKD,QACdc,KAAMC,KAAKC,UAAU,CACnBE,OAAQD,MAETd,KAAKF,KAAKG,mB,iCAGJO,EAAMM,GACf,OAAOf,MAAM,GAAD,OAAID,KAAKF,IAAT,UAAsB,CAChCc,OAAQ,OACRb,QAASC,KAAKD,QACdc,KAAMC,KAAKC,UAAU,CACnBL,KAAMA,EACNM,KAAMA,MAEPd,KAAKF,KAAKG,mB,2CAGMe,EAAQC,GAC3B,OAAOlB,MAAM,GAAD,OAAID,KAAKF,IAAT,wBAA4BoB,GAAU,CAChDN,OAAQO,EAAU,SAAW,MAC7BpB,QAASC,KAAKD,UACbG,KAAKF,KAAKG,mB,iCAGJe,GACT,OAAOjB,MAAM,GAAD,OAAID,KAAKF,IAAT,kBAAsBoB,GAAU,CAC1CN,OAAQ,SACRb,QAASC,KAAKD,UACbG,KAAKF,KAAKG,qB,KAIL,CAAQ,CAClBL,IAAK,8CACLC,QAAS,CACPqB,cAAe,uCACf,eAAgB,sB,qBC1EPC,EAAgB,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,OAAQZ,EAAqC,EAArCA,KAAMa,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,SAAaC,EAAW,oDACrEC,EAAe,0BACnBD,EAAKE,SAAW,2BAA6B,IAG/C,OACE,yBACElC,UACE6B,EAAM,2BACkBZ,EADlB,4CAEkBA,IAG1B,0BACEjB,UAAU,oCACViB,KAAMA,EACNkB,YAAU,EACVC,SAAUJ,EAAKI,UAEf,4BACEC,QAASL,EAAKM,QACdC,KAAK,SACLvC,UAAU,qBAEZ,yBAAKA,UAAU,gBAAgB8B,GAC/B,oCAAGC,GACFC,EAAKQ,UACJ,4BAAQxC,UAAU,kBAAkByC,GAAG,qBACpCT,EAAKU,qBAGR,4BAAQR,SAAUF,EAAKE,SAAUlC,UAAWiC,GACzCD,EAAKW,eChCLC,EAAqBC,IAAMC,gBCElCC,EAAa,CACjB9B,KAAM,CACJ+B,SAAU,SAACC,GACT,MAAiB,KAAVA,GAETC,UAAW,SAACD,GACV,OAAOA,GAASA,EAAME,OAAS,GAEjCC,UAAW,SAACH,GACV,OAAOA,GAASA,EAAME,OAAS,IAEjCE,eAAgB,SAACJ,GAAW,OAAQ,sDAAwBK,KAAKL,KAEnEM,YAAa,CACXP,SAAU,SAACC,GACT,MAAiB,KAAVA,GAETC,UAAW,SAACD,GACV,OAAOA,GAASA,EAAME,OAAS,GAEjCC,UAAW,SAACH,GACV,OAAOA,GAASA,EAAME,OAAS,OAKxBK,EAAmB,SAACC,GAC/B,IAAMC,EAAcb,IAAMc,WAAWf,GADI,EAEjBC,IAAMe,SAAS,IAFE,mBAElC3C,EAFkC,KAE5B4C,EAF4B,OAGHhB,IAAMe,SAAS,IAHZ,mBAGlCL,EAHkC,KAGrBO,EAHqB,OAIbF,mBAAS,CACnC3C,KAAM,CACJ+B,UAAU,EACVE,WAAW,EACXE,WAAW,EACXC,gBAAgB,GAElBE,YAAa,CACXP,UAAU,EACVE,WAAW,EACXE,WAAW,KAd0B,mBAIlCW,EAJkC,KAI1BC,EAJ0B,KAkBzCnB,IAAMoB,WAAU,WACVR,EAAM5B,SACRgC,EAAQH,EAAYzC,MACpB6C,EAAeJ,EAAYxC,UAE5B,CAACwC,EAAaD,EAAM5B,SAEvB,IAAMqC,EAAmBC,uBAAY,SAACC,GACpCP,EAAQO,EAAEC,OAAOpB,SAChB,IAEGqB,EAA0BH,uBAAY,SAACC,GAC3CN,EAAeM,EAAEC,OAAOpB,SACvB,IAEGsB,EAAeJ,uBACnB,SAACC,GACCA,EAAEI,iBACFf,EAAMgB,aAAa,CACjBxD,OACAC,MAAOqC,MAGX,CAACtC,EAAMsC,EAAaE,IAGtBQ,qBACE,WACE,IAAMS,EAAuBC,OAAOC,KAAK7B,EAAW9B,MACjD4D,KAAI,SAACC,GACJ,IAAMC,EAAchC,EAAW9B,KAAK6D,GAAU7D,GAC9C,OAAO,eAAG6D,EAAWC,MAEtBC,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAkBD,GAAQC,KAAO,IACtCC,EAA8BR,OAAOC,KAAK7B,EAAWQ,aACxDsB,KAAI,SAACC,GACJ,IAAMC,EAAchC,EAAWQ,YAAYuB,GAAUvB,GACrD,OAAO,eAAGuB,EAAWC,MAEtBC,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAkBD,GAAQC,KAAO,IAE5ClB,EAAU,CACR/C,KAAMyD,EACNnB,YAAa4B,MAGjB,CAAClE,EAAMsC,EAAaS,IAGtB,IAAMoB,EAAcT,OAAOU,OAAOtB,EAAO9C,MAAMqE,KAAKC,SAC9CC,EAAqBb,OAAOU,OAAOtB,EAAOR,aAAa+B,KAAKC,SAC5DE,EAAmBL,GAAeI,EAExC,OACE,kBAAC,EAAD,CACEvE,KAAM,kBACNa,MAAO,4HACPU,UAAWiB,EAAMjB,UACjBG,WAAY,yDACZD,oBAAqB,mEACrBb,OAAQ4B,EAAM5B,OACdS,QAASmB,EAAMnB,QACfF,SAAUmC,EACVrC,SAAUuD,GAGR,oCACE,yBAAKzF,UAAU,uCACb,2BACE0F,YAAY,qBACZ1F,UAAU,cACVuC,KAAK,OACLtB,KAAMA,EACNgC,MAAOhC,EACP0E,SAAUzB,IAEXH,EAAO9C,KAAK+B,UACX,0BAAMhD,UAAU,mCACb,uHAGJ+D,EAAO9C,KAAKiC,WACX,0BAAMlD,UAAU,mCACb,uLAGJ+D,EAAO9C,KAAKmC,WACX,0BAAMpD,UAAU,mCACb,oMAGJ+D,EAAO9C,KAAKoC,gBACX,0BAAMrD,UAAU,mCACb,oKAIP,yBAAKA,UAAU,wCACb,2BACE0F,YAAY,gEACZ1F,UAAU,cACVuC,KAAK,OACLtB,KAAMsC,EACNN,MAAOM,EACPoC,SAAUrB,IAEXP,EAAOR,YAAYP,UAClB,0BAAMhD,UAAU,mCACb,uHAGJ+D,EAAOR,YAAYL,WAClB,0BAAMlD,UAAU,mCACb,uLAGJ+D,EAAOR,YAAYH,WAClB,0BAAMpD,UAAU,mCACb,yMCnKJ4F,EAAkB,SAACnC,GAC9B,IAAMoC,EAAUhD,IAAMiD,OAAO,IAEvBvB,EAAeJ,uBAAY,SAACC,GAChCA,EAAEI,iBACFf,EAAMsC,eAAe,CACnBvE,OAAQqE,EAAQG,QAAQ/C,UAEzB,CAACQ,IAMJ,OAJAZ,IAAMoB,WAAU,WACd4B,EAAQG,QAAQ/C,MAAQ,KACvB,CAACQ,EAAM5B,SAGR,kBAAC,EAAD,CACEA,OAAQ4B,EAAM5B,OACdS,QAASmB,EAAMnB,QACfF,SAAUmC,EACVtD,KAAM,iBACNa,MAAO,wFACPU,UAAWiB,EAAMjB,UACjBG,WAAY,yDACZD,oBAAqB,oEAGnB,yBAAK1C,UAAU,wCACb,2BACEuC,KAAK,MACLmD,YAAY,qGACZ1F,UAAU,cACViB,KAAK,OACLwB,GAAG,OACHO,UAAQ,EACRiD,IAAKJ,IAEP,0BAAMpD,GAAG,aAAazC,UAAU,oBCpC7BkG,EAAgB,SAACzC,GAAW,IAAD,EAEZZ,IAAMe,SAAS,IAFH,mBAE/BuC,EAF+B,KAExBC,EAFwB,OAGdvD,IAAMe,SAAS,IAHD,mBAG/BrC,EAH+B,KAGzB8E,EAHyB,KAKhCC,EAAoBnC,uBAAY,SAACC,GACrCgC,EAAShC,EAAEC,OAAOpB,SACjB,IAEGsD,EAAmBpC,uBAAY,SAACC,GACpCiC,EAAQjC,EAAEC,OAAOpB,SAChB,IAEGsB,EAAeJ,uBAAY,SAACC,GAChCA,EAAEI,iBACFf,EAAM+C,WAAW,CACfL,QACA5E,WAED,CAAC4E,EAAO5E,EAAMkC,IAOjB,OALAZ,IAAMoB,WAAU,WACdmC,EAAS,IACTC,EAAQ,MACP,CAAC5C,EAAM5B,SAGR,kBAAC,EAAD,CACEA,OAAQ4B,EAAM5B,OACdS,QAASmB,EAAMnB,QACfF,SAAUmC,EACVtD,KAAM,cACNa,MAAO,gEACPU,UAAWiB,EAAMjB,UACjBG,WAAY,mDACZD,oBAAqB,oEAGnB,oCACE,yBAAK1C,UAAU,uCACb,2BACEuC,KAAK,OACLmD,YAAY,mDACZ1F,UAAU,cACVkD,UAAU,IACVE,UAAU,KACVJ,UAAQ,EACR/B,KAAMkF,EACNlD,MAAOkD,EACPR,SAAUW,IAGZ,0BAAM7D,GAAG,cAAczC,UAAU,kBAEnC,yBAAKA,UAAU,wCACb,2BACEuC,KAAK,MACLmD,YAAY,qGACZ1F,UAAU,cACVgD,UAAQ,EACR/B,KAAMM,EACN0B,MAAO1B,EACPoE,SAAUY,IAGZ,0BAAM9D,GAAG,aAAazC,UAAU,qBCjE/ByG,EAAmB,SAAChD,GAE/B,IAAMc,EAAeJ,uBAAY,SAACC,GAChCA,EAAEI,iBACFf,EAAMiD,aAAajD,EAAMkD,gBACxB,CAAClD,IAEJ,OACE,kBAAC,EAAD,CACE5B,OAAQ4B,EAAM5B,OACdS,QAASmB,EAAMnB,QACfrB,KAAM,iBACNa,MAAO,2DACPM,SAAUmC,EACV/B,UAAWiB,EAAMjB,UACjBG,WAAY,eACZD,oBAAqB,0DCqCZkE,MArDf,SAAcnD,GACZ,IAGMC,EAAcb,IAAMc,WAAWf,GAG/BiE,EAAQpD,EAAMqD,UAAYpD,EAAYqD,IAGtCC,EAAyB,6BAC7BH,EAAQ,6BAA+B,6BAInCnF,EAAU+B,EAAMwD,KAAK3B,MAAK,SAAC4B,GAAD,OAAOA,EAAEH,MAAQrD,EAAYqD,OAEvDI,EAAuB,2BAC3BzF,EAAU,0BAA4B,MAGlC0F,EAAwB,kCAC5B3D,EAAM4D,MAAQ,EACV,kCACA,kCAGN,OACE,4BAAQrH,UAAU,oBAChB,yBACEqC,QA7Bc,kBAAMoB,EAAM6D,YAAY7D,IA8BtCvD,IAAKuD,EAAMvD,IACXD,IAAI,oMACJD,UAAU,sBAEZ,wBAAIA,UAAU,qBAAqByD,EAAMxC,MACzC,yBAAKjB,UAAU,qBACb,4BACEuC,KAAK,SACLvC,UAAWmH,EACX9E,QAtCgB,kBAAMoB,EAAM8D,WAAW9D,MAwCzC,yBAAKzD,UAAWoH,GAA2B3D,EAAM4D,QAEnD,4BACE9E,KAAK,SACLvC,UAAWgH,EACX3E,QA5CoB,kBAAMoB,EAAM+D,aAAa/D,QCCtCgE,G,MAJC,WACd,OAAO,yBAAKzH,UAAU,cCCX0H,EAAO,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAU3F,EAAW,yBACpC0B,EAAcb,IAAMc,WAAWf,GAErC,OACE,0BAAMH,GAAG,MAAMzC,UAAU,WACvB,6BAASA,UAAU,WACjB,yBAAKA,UAAU,iBACb,4BAAQqC,QAASL,EAAK4F,aAAc5H,UAAU,mBAC5C,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,0BAEjB,yBACEC,IAAI,aACJD,UAAU,iBACVE,IAAKwD,EAAYlC,UAGrB,yBAAKxB,UAAU,mBACb,yBAAKA,UAAU,sBACb,wBAAIA,UAAU,kBAAkB0D,EAAYzC,MAC5C,4BACEoB,QAASL,EAAK6F,cACdtF,KAAK,SACLvC,UAAU,uBAGd,wBAAIA,UAAU,qBAAqB0D,EAAYxC,SAGnD,4BACEmB,QAASL,EAAKwE,WACdjE,KAAK,SACLvC,UAAU,sBAGd,6BAASA,UAAU,cAChBgC,EAAK8F,gBAAkBH,EACtB,kBAAC,EAAD,MAEAA,EAAM9C,KAAI,SAACkD,GAAD,OACR,kBAAC,EAAD,iBACMA,EADN,CAEET,YAAatF,EAAKsF,YAClBE,aAAcxF,EAAKwF,aACnBD,WAAYvF,EAAKuF,oBC/ClBS,EAAS,WACpB,OACE,4BAAQhI,UAAU,UAChB,uBAAGA,UAAU,qBAAb,4BCHOiI,EAAa,SAACF,GACzB,OACE,yBACE/H,UACE+H,EAAKlG,OAAL,2BACwBkG,EAAK9G,KAD7B,4CAEwB8G,EAAK9G,OAG/B,0BAAMjB,UAAU,4BACd,yBAAKC,IAAI,oBAAoBC,IAAK6H,EAAK7H,IAAKF,UAAU,iBACtD,4BACEqC,QAAS0F,EAAKzF,QACdC,KAAK,SACLvC,UAAU,mBACVyC,GAAG,oBAEL,wBAAIzC,UAAU,sBAAsByC,GAAG,gBACpCsF,EAAK9G,SCkPDiH,MA1Pf,WAAgB,IAAD,EACyBtE,mBAAS,IADlC,mBACNF,EADM,KACOyE,EADP,OAEavE,mBAAS,IAFtB,mBAEN+D,EAFM,KAECS,EAFD,OAGqBxE,oBAAS,GAH9B,mBAGNpB,EAHM,KAGK6F,EAHL,OAI+BzE,oBAAS,GAJxC,mBAINkE,EAJM,KAIUQ,EAJV,OAK2B1E,mBAAS,IALpC,mBAKN+C,EALM,KAKQ4B,EALR,KAObtE,qBAAU,WACRqE,GAAkB,GAClBxH,QAAQ0H,IAAI,CAACpI,EAAIqI,cAAerI,EAAIsI,oBACjCjI,MAAK,SAACE,GAAc,IAAD,cACOA,EADP,GACXgI,EADW,KACFhB,EADE,KAGlBQ,EAAeQ,GAEf,IAAMC,EAAQjB,EAAM9C,KAAI,SAACgE,GAAD,MAAW,CACjCC,IAAKD,EAAK9B,IACVtF,OAAQoH,EAAK9B,IACbD,QAAS+B,EAAKE,MAAMhC,IACpBM,MAAOwB,EAAKxB,MAAMlE,OAClB8D,KAAM4B,EAAKxB,MACXpG,KAAM4H,EAAK5H,KACXf,IAAK2I,EAAKtH,SAEZ6G,EAASQ,MAEVI,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbG,SAAQ,WACPd,GAAkB,QAErB,IAhCU,MAwJ+C1E,oBAAS,GAxJxD,mBAwJNyF,EAxJM,KAwJkBC,EAxJlB,OAyJ6C1F,oBAAS,GAzJtD,mBAyJN2F,EAzJM,KAyJiBC,EAzJjB,OA0JyC5F,oBAAS,GA1JlD,mBA0JN6F,EA1JM,KA0JeC,EA1Jf,OA2JmC9F,oBAAS,GA3J5C,mBA2JN+F,EA3JM,KA2JYC,EA3JZ,OA4J+ChG,oBAAS,GA5JxD,mBA4JNiG,EA5JM,KA4JkBC,EA5JlB,QA6J2BlG,mBAAS,IA7JpC,qBA6JNmG,GA7JM,MA6JQC,GA7JR,MA+JPC,GAAiB,WACrBX,GAA0B,GAC1BE,GAAyB,GACzBE,GAAuB,GACvBE,GAAoB,GACpBE,GAA0B,GAC1BE,GAAgB,KAwBlB,OACE,kBAACpH,EAAmBsH,SAApB,CAA6BjH,MAAOS,GAClC,yBAAK1D,UAAU,QACb,kBAAC,EAAD,MAEA,kBAAC,EAAD,CACE2H,MAAOA,EACPC,aAnBsB,WAC5B4B,GAAyB,IAmBnB3B,cAxBuB,WAC7ByB,GAA0B,IAwBpB9C,WAlBoB,WAC1BkD,GAAuB,IAkBjBpC,YA/BgB,SAAC7D,GACvBmG,GAAoB,GACpBI,GAAgBvG,IA8BV+D,aAhBuB,SAAC/D,GAC9B8E,EAAgB9E,EAAMhC,QACtBqI,GAA0B,IAepBvC,WAvKR,SAAwBQ,GAEtB,IAAMtG,EAASsG,EAAKtG,OACdC,EAAUqG,EAAKd,KAAK3B,MAAK,SAAC4B,GAAD,OAAOA,EAAEH,MAAQrD,EAAYqD,OAG5D3G,EACG+J,qBAAqB1I,EAAQC,GAC7BjB,MAAK,SAAC2J,GACL,IAAMC,EAAgB,CACpBvB,IAAKsB,EAAQrD,IACbtF,OAAQ2I,EAAQrD,IAChBD,QAASsD,EAAQrB,MAAMhC,IACvBM,MAAO+C,EAAQ/C,MAAMlE,OACrB8D,KAAMmD,EAAQ/C,MACdpG,KAAMmJ,EAAQnJ,KACdf,IAAKkK,EAAQ7I,OA+BrB,SAA0B+I,GACxB,IACM1B,EADe0B,EAASA,SACHzF,KAAI,SAACgE,GAAD,MAAW,CACxCC,IAAKD,EAAKC,IACVrH,OAAQoH,EAAKpH,OACbqF,QAAS+B,EAAK/B,QACdO,MAAOwB,EAAKxB,MACZJ,KAAM4B,EAAK5B,KACXhG,KAAM4H,EAAK5H,KACXf,IAAK2I,EAAK3I,QAEZkI,EAASQ,GAnCL2B,CAAiB,CAAED,SAJF3C,EAAM9C,KAAI,SAAC2F,GAAD,OACzBA,EAAE/I,SAAWA,EAAS4I,EAAgBG,UAKzCxB,OAAM,SAACC,GACNC,QAAQC,IAAIF,OA8IVnB,eAAgBA,IAIlB,kBAAC,EAAD,CACEjG,OAAQwH,EACR/G,QAAS2H,GACTxF,aAlHR,SAA0BgG,GACxBpC,GAAa,GACbjI,EACGsK,YAAYD,EAAWxJ,KAAMwJ,EAAWvJ,OACxCT,MAAK,SAACE,GACLwH,EAAexH,GACfsJ,QAEDjB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbG,SAAQ,WACPf,GAAa,OAuGX7F,UAAWA,IAIb,kBAAC,EAAD,CACEX,OAAQ0H,EACRjH,QAAS2H,GACTlE,eA1GR,SAA4B4E,GAC1BtC,GAAa,GACbjI,EACGwK,UAAUD,EAAWnJ,QACrBf,MAAK,SAACE,GACLwH,EAAexH,GACfsJ,QAEDjB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbG,SAAQ,WACPf,GAAa,OA+FX7F,UAAWA,IAIb,kBAAC,EAAD,CACEX,OAAQ4H,EACRnH,QAAS2H,GACTzD,WAlGR,SAA8BqE,GAC5BxC,GAAa,GACbjI,EACG0K,WAAWD,EAAS1E,MAAO0E,EAAStJ,MACpCd,MAAK,SAAC2J,GACL,IAAMC,EAAgB,CACpBvB,IAAKsB,EAAQrD,IACbtF,OAAQ2I,EAAQrD,IAChBD,QAASsD,EAAQrB,MAAMhC,IACvBM,MAAO+C,EAAQ/C,MAAMlE,OACrB8D,KAAMmD,EAAQ/C,MACdpG,KAAMmJ,EAAQnJ,KACdf,IAAKkK,EAAQ7I,MAEf6G,EAAS,CAACiC,GAAF,mBAAoB1C,KAC5BsC,QAEDjB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbG,SAAQ,WACPf,GAAa,OA8EX7F,UAAWA,IAIb,kBAAC,EAAD,CACEX,OAAQgI,EACRvH,QAAS2H,GACTzH,UAAWA,EACXkE,aA1KR,SAA0BqB,GACxBM,GAAa,GACb,IAAM0C,EAAiBpD,EAAMqD,QAAO,SAACC,GAAD,OAAOlD,IAASkD,EAAExJ,UACtDrB,EACG8K,WAAWnD,GACXtH,MAAK,WACJ2H,EAAS2C,GACTd,QAEDjB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbG,SAAQ,WACPf,GAAa,OA8JX1B,aAAcA,IAGhB,kBAAC,EAAD,CACE9E,OAAQ8H,EACRrH,QAAS2H,GACThJ,KAAM8I,GAAa9I,KACnBf,IAAK6J,GAAa7J,MAEpB,kBAAC,EAAD,SC3PRiL,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U,kBCT1BC,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.50421a07.chunk.js","sourcesContent":["import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nexport const Header = () => {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" alt=\"Логотип Mesto.Russia\" src={logo} />\n      <div className=\"header__line\"></div>\n    </header>\n  );\n}","class Api {\n  constructor({ url, headers = {} }) {\n    this.url = url;\n    this.headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: this.headers,\n    }).then(this._handleResponse);\n  }\n\n  _handleResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n      headers: this.headers,\n    }).then(this._handleResponse);\n  }\n\n  setUserInfo(name, about) {\n    return fetch(`${this.url}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  setAvatar(link) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  insertCard(name, link) {\n    return fetch(`${this.url}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n      method: isLiked ? \"DELETE\" : \"PUT\",\n      headers: this.headers,\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._handleResponse);\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-14\",\n  headers: {\n    authorization: \"42ce0924-10a6-4b78-98b5-287f3f244b55\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\n\nexport const PopupWithForm = ({ isOpen, name, title, children, ...rest }) => {\n  const buttonClassName = `popup__btn-save ${\n    rest.disabled ? \"popup__btn-save_disabled\" : \"\"\n  }`;\n\n  return (\n    <div\n      className={\n        isOpen\n          ? `popup popup_type_${name} popup_opened`\n          : `popup popup_type_${name}`\n      }\n    >\n      <form\n        className=\"popup__container popup__form_card\"\n        name={name}\n        noValidate\n        onSubmit={rest.onSubmit}\n      >\n        <button\n          onClick={rest.onClose}\n          type=\"button\"\n          className=\"popup__btn-close\"\n        ></button>\n        <div className=\"popup__title\">{title}</div>\n        <>{children}</>\n        {rest.isLoading ? (\n          <button className=\"popup__btn-save\" id=\"saveButtonProfile\">\n            {rest.buttonTextIsLoading}\n          </button>\n        ) : (\n          <button disabled={rest.disabled} className={buttonClassName}>\n            {rest.buttonText}\n          </button>\n        )}\n      </form>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nconst validators = {\n  name: {\n    required: (value) => {\n      return value === \"\";\n    },\n    minLength: (value) => {\n      return value && value.length < 2;\n    },\n    maxLength: (value) => {\n      return value && value.length > 20;\n    },\n    containNumbers: (value) => {return !/^[а-яА-ЯёЁa-zA-Z\\s]+$/.test(value); },\n  },\n  description: {\n    required: (value) => {\n      return value === \"\";\n    },\n    minLength: (value) => {\n      return value && value.length < 2;\n    },\n    maxLength: (value) => {\n      return value && value.length > 200;\n    },\n  },\n};\n\nexport const EditProfilePopup = (props) => {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [errors, setErrors] = useState({\n    name: {\n      required: true,\n      minLength: true,\n      maxLength: true,\n      containNumbers: true,\n    },\n    description: {\n      required: true,\n      minLength: true,\n      maxLength: true,\n    },\n  });\n\n  React.useEffect(() => {\n    if (props.isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, props.isOpen]);\n\n  const handleChangeName = useCallback((e) => {\n    setName(e.target.value);\n  }, []);\n\n  const handleChangeDescription = useCallback((e) => {\n    setDescription(e.target.value);\n  }, []);\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      props.onUpdateUser({\n        name,\n        about: description,\n      });\n    },\n    [name, description, props]\n  );\n\n  useEffect(\n    function validateInputs() {\n      const nameValidationResult = Object.keys(validators.name)\n        .map((errorKey) => {\n          const errorResult = validators.name[errorKey](name);\n          return { [errorKey]: errorResult };\n        })\n        .reduce((acc, el) => ({ ...acc, ...el }), {});\n      const descriptionValidationResult = Object.keys(validators.description)\n        .map((errorKey) => {\n          const errorResult = validators.description[errorKey](description);\n          return { [errorKey]: errorResult };\n        })\n        .reduce((acc, el) => ({ ...acc, ...el }), {});\n\n      setErrors({\n        name: nameValidationResult,\n        description: descriptionValidationResult,\n      });\n    },\n    [name, description, setErrors]\n  );\n\n  const isNameValid = Object.values(errors.name).some(Boolean);\n  const isDescriptionValid = Object.values(errors.description).some(Boolean);\n  const isSubmitDisabled = isNameValid || isDescriptionValid;\n\n  return (\n    <PopupWithForm\n      name={\"editProfileForm\"}\n      title={\"Редактировать профиль\"}\n      isLoading={props.isLoading}\n      buttonText={\"Сохранить\"}\n      buttonTextIsLoading={\"Сохранение ...\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      disabled={isSubmitDisabled}\n    >\n      {\n        <>\n          <div className=\"popup__field popup__field_info_name\">\n            <input\n              placeholder=\"Имя\"\n              className=\"popup__text\"\n              type=\"text\"\n              name={name}\n              value={name}\n              onChange={handleChangeName}\n            />\n            {errors.name.required && (\n              <span className=\"popup__input popup__input-error\">\n                {\"Необходимо заполнить\"}\n              </span>\n            )}\n            {errors.name.minLength && (\n              <span className=\"popup__input popup__input-error\">\n                {\"Должно содержать минимум 2 символа\"}\n              </span>\n            )}\n            {errors.name.maxLength && (\n              <span className=\"popup__input popup__input-error\">\n                {\"Должно содержать максимум 20 символов\"}\n              </span>\n            )}\n            {errors.name.containNumbers && (\n              <span className=\"popup__input popup__input-error\">\n                {\"Должно содержать только буквы\"}\n              </span>\n            )}\n          </div>\n          <div className=\"popup__field popup__field_info_other\">\n            <input\n              placeholder=\"Род занятий\"\n              className=\"popup__text\"\n              type=\"text\"\n              name={description}\n              value={description}\n              onChange={handleChangeDescription}\n            />\n            {errors.description.required && (\n              <span className=\"popup__input popup__input-error\">\n                {\"Необходимо заполнить\"}\n              </span>\n            )}\n            {errors.description.minLength && (\n              <span className=\"popup__input popup__input-error\">\n                {\"Должно содержать минимум 2 символа\"}\n              </span>\n            )}\n            {errors.description.maxLength && (\n              <span className=\"popup__input popup__input-error\">\n                {\"Должно содержать максимум 200 символов\"}\n              </span>\n            )}\n          </div>\n        </>\n      }\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React, { useCallback } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\n\nexport const EditAvatarPopup = (props) => {\n  const linkRef = React.useRef(\"\");\n\n  const handleSubmit = useCallback((e) => {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: linkRef.current.value,\n    });\n  }, [props]);\n\n  React.useEffect(() => {\n    linkRef.current.value = \"\";\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name={\"editAvatarForm\"}\n      title={\"Обновить аватар\"}\n      isLoading={props.isLoading}\n      buttonText={\"Сохранить\"}\n      buttonTextIsLoading={\"Сохранение ...\"}\n    >\n      {\n        <div className=\"popup__field popup__field_info_other\">\n          <input\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            className=\"popup__text\"\n            name=\"link\"\n            id=\"link\"\n            required\n            ref={linkRef}\n          />\n          <span id=\"link-error\" className=\"popup__input\"></span>\n        </div>\n      }\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useCallback } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\n\nexport const AddPlacePopup = (props) => {\n  \n  const [place, setPlace] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  const handleChangePlace = useCallback((e) => {\n    setPlace(e.target.value);\n  }, []);\n\n  const handleChangeLink = useCallback((e) => {\n    setLink(e.target.value);\n  }, []);\n\n  const handleSubmit = useCallback((e) => {\n    e.preventDefault();\n    props.onAddPlace({\n      place,\n      link,\n    });\n  }, [place, link, props]);\n\n  React.useEffect(() => {\n    setPlace(\"\");\n    setLink(\"\");\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name={\"addCardForm\"}\n      title={\"Новое место\"}\n      isLoading={props.isLoading}\n      buttonText={\"Добавить\"}\n      buttonTextIsLoading={\"Добавление ...\"}\n    >\n      {\n        <>\n          <div className=\"popup__field popup__field_info_name\">\n            <input\n              type=\"text\"\n              placeholder=\"Название\"\n              className=\"popup__text\"\n              minLength=\"1\"\n              maxLength=\"30\"\n              required\n              name={place}\n              value={place}\n              onChange={handleChangePlace}\n              //onChange={handleInputChange}\n            />\n            <span id=\"place-error\" className=\"popup__input\"></span>\n          </div>\n          <div className=\"popup__field popup__field_info_other\">\n            <input\n              type=\"url\"\n              placeholder=\"Ссылка на картинку\"\n              className=\"popup__text\"\n              required\n              name={link}\n              value={link}\n              onChange={handleChangeLink}\n              //onChange={handleInputChange}\n            />\n            <span id=\"link-error\" className=\"popup__input\"></span>\n          </div>\n        </>\n      }\n    </PopupWithForm>\n  );\n};\n","import React, { useCallback } from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport const DeletePlacePopup = (props) => {\r\n  \r\n  const handleSubmit = useCallback((e) => {\r\n    e.preventDefault();\r\n    props.onDeleteCard(props.deletingCard);\r\n  }, [props])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name={\"deleteCardForm\"}\r\n      title={\"Вы уверены?\"}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n      buttonText={\"Да\"}\r\n      buttonTextIsLoading={\"Удаление ...\"}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction Card(props) {\n  const handleClick = () => props.onCardClick(props);\n  const handleLikeClick = () => props.onCardLike(props);\n  const handleDeleteClick = () => props.onCardDelete(props);\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.ownerId === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `photo-grid__delete ${\n    isOwn ? \"photo-grid__delete_visible\" : \"photo-grid__delete_hidden\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.like.some((i) => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = `photo-grid__like ${\n    isLiked ? \"photo-grid__like_active\" : null\n  }`;\n\n  const cardLikesNumberClassName = `photo-grid__like-number ${\n    props.likes > 0\n      ? \"photo-grid__like-number_visible\"\n      : \"photo-grid__like-number_hidden\"\n  }`;\n\n  return (\n    <figure className=\"photo-grid__item\">\n      <img\n        onClick={handleClick}\n        src={props.src}\n        alt=\"изображение достопримечательности\"\n        className=\"photo-grid__image\"\n      />\n      <h3 className=\"photo-grid__title\">{props.name}</h3>\n      <div className=\"photo-grid__likes\">\n        <button\n          type=\"button\"\n          className={cardLikeButtonClassName}\n          onClick={handleLikeClick}\n        ></button>\n        <div className={cardLikesNumberClassName}>{props.likes}</div>\n      </div>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n    </figure>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport \"./Spinner.css\";\n\nconst Spinner = () => {\n  return <div className=\"spinner\" />;\n};\n\nexport default Spinner;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\nimport Spinner from \"./Spinner/Spinner\";\n\nexport const Main = ({ cards, ...rest }) => {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main id=\"abc\" className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__info\">\n          <button onClick={rest.onEditAvatar} className=\"profile__avatar\">\n            <div className=\"profile__overlay\">\n              <div className=\"profile__avatar-edit\"></div>\n            </div>\n            <img\n              alt=\"owner face\"\n              className=\"profile__photo\"\n              src={currentUser.avatar}\n            />\n          </button>\n          <div className=\"profile__author\">\n            <div className=\"profile__edit-line\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                onClick={rest.onEditProfile}\n                type=\"button\"\n                className=\"profile__btn-edit\"\n              ></button>\n            </div>\n            <h2 className=\"profile__subtitle\">{currentUser.about}</h2>\n          </div>\n        </div>\n        <button\n          onClick={rest.onAddPlace}\n          type=\"button\"\n          className=\"profile__btn-add\"\n        ></button>\n      </section>\n      <section className=\"photo-grid\">\n        {rest.isStartLoading && cards ? (\n          <Spinner />\n        ) : (\n          cards.map((card) => (\n            <Card\n              {...card}\n              onCardClick={rest.onCardClick}\n              onCardDelete={rest.onCardDelete}\n              onCardLike={rest.onCardLike}\n            />\n          ))\n        )}\n      </section>\n    </main>\n  );\n}\n","import React from \"react\";\n\nexport const Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n","import React from \"react\";\n\nexport const ImagePopup = (card) => {\n  return (\n    <div\n      className={\n        card.isOpen\n          ? `popup popup_type_${card.name} popup_opened`\n          : `popup popup_type_${card.name}`\n      }\n    >\n      <form className=\"popup__picture-container\">\n        <img alt=\"tremendous screen\" src={card.src} className=\"popup__image\" />\n        <button\n          onClick={card.onClose}\n          type=\"button\"\n          className=\"popup__btn-close\"\n          id=\"cardPictureForm\"\n        ></button>\n        <h3 className=\"popup__bottom-title\" id=\"pictureTitle\">\n          {card.name}\n        </h3>\n      </form>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Header} from \"./Header\";\nimport api from \"../utils/Api\";\nimport { EditProfilePopup } from \"./EditProfilePopup\";\nimport { EditAvatarPopup } from \"./EditAvatarPopup\";\nimport { AddPlacePopup } from \"./AddPlacePopup\";\nimport { DeletePlacePopup } from \"./DeletePlacePopup\";\nimport { Main } from \"./Main\";\nimport { Footer } from \"./Footer\";\nimport { ImagePopup } from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isStartLoading, setStartIsLoading] = useState(false);\n  const [deletingCard, setDeletingCard] = useState(\"\");\n\n  useEffect(() => {\n    setStartIsLoading(true)\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then((response) => {\n        const [profile, cards] = response;\n        //fill profile elemements\n        setCurrentUser(profile);\n        //fill cards elemements\n        const items = cards.map((item) => ({\n          key: item._id,\n          cardId: item._id,\n          ownerId: item.owner._id,\n          likes: item.likes.length,\n          like: item.likes,\n          name: item.name,\n          src: item.link,\n        }));\n        setCards(items);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setStartIsLoading(false);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const cardId = card.cardId;\n    const isLiked = card.like.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(cardId, isLiked)\n      .then((newCard) => {\n        const newCardFormat = {\n          key: newCard._id,\n          cardId: newCard._id,\n          ownerId: newCard.owner._id,\n          likes: newCard.likes.length,\n          like: newCard.likes,\n          name: newCard.name,\n          src: newCard.link,\n        };\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) =>\n          c.cardId === cardId ? newCardFormat : c\n        );\n        // Обновляем стейт\n        handleUpdateCard({ newCards });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setIsLoading(true);\n    const withoutDeleted = cards.filter((с) => card !== с.cardId);\n    api\n      .deleteCard(card)\n      .then(() => {\n        setCards(withoutDeleted);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateCard(newCards) {\n    const updatedCards = newCards.newCards;\n    const items = updatedCards.map((item) => ({\n      key: item.key,\n      cardId: item.cardId,\n      ownerId: item.ownerId,\n      likes: item.likes,\n      like: item.like,\n      name: item.name,\n      src: item.src,\n    }));\n    setCards(items);\n  }\n\n  function handleUpdateUser(newProfile) {\n    setIsLoading(true);\n    api\n      .setUserInfo(newProfile.name, newProfile.about)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    setIsLoading(true);\n    api\n      .setAvatar(avatarLink.avatar)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(newPlace) {\n    setIsLoading(true);\n    api\n      .insertCard(newPlace.place, newPlace.link)\n      .then((newCard) => {\n        const newCardFormat = {\n          key: newCard._id,\n          cardId: newCard._id,\n          ownerId: newCard.owner._id,\n          likes: newCard.likes.length,\n          like: newCard.likes,\n          name: newCard.name,\n          src: newCard.link,\n        };\n        setCards([newCardFormat, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isPlacePopupOpen, setIsPlacePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsPlacePopupOpen(false);\n    setIsDeletePlacePopupOpen(false);\n    setSelectedCard({});\n  };\n\n  const handleCardClick = (props) => {\n    setIsPlacePopupOpen(true);\n    setSelectedCard(props);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleDeletePlaceClick = (props) => {\n    setDeletingCard(props.cardId);\n    setIsDeletePlacePopupOpen(true);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        {/* handlers of the page buttons */}\n        <Main\n          cards={cards}\n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          onCardDelete={handleDeletePlaceClick}\n          onCardLike={handleCardLike}\n          isStartLoading={isStartLoading}\n        />\n\n        {/* PopUp for PROFILE Editing */}\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        {/* PopUp for AVATAR Editing */}\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        {/* PopUp for CARD Adding */}\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        {/* PopUp for CARD Deleting */}\n        <DeletePlacePopup\n          isOpen={isDeletePlacePopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onDeleteCard={handleCardDelete}\n          deletingCard={deletingCard}\n        />\n\n        <ImagePopup\n          isOpen={isPlacePopupOpen}\n          onClose={closeAllPopups}\n          name={selectedCard.name}\n          src={selectedCard.src}\n        />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}